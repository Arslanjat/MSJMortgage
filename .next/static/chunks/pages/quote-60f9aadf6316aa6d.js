(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9876],{7079:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quote",function(){return a(4835)}])},2044:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2845).Z,r=a(5654).default,s=n(a(7218)),o=function(e,t,a){if(a<100)return 0;var n=1,r=0,s=2*(e*t-a)/(a*e);if(s<0||s>2)return 0;for(;;){var o=Math.pow(1+s,e);if(o=s*o/(o-1),(o-=t/a)>1e-7)s=((n=s)+r)/2;else{if(!(o<-1e-7))break;s=(n+(r=s))/2}}return 12*s*100},l=function(e,t){console.log("Searching...");var a=["lock8","lock12","lock15","lock20","lock21","lock23","lock30","lock38","lock45","lock53","lock60","lock75","lock90"],n={},o=e.ltv,l=10;s.default.post("https://1smtg.com/db/get_rates.php",{action:"search",category_type:e.category_type,product_type:e.product_type,loan_amount:e.loan_amount,ltv:e.ltv,cltv:e.cltv,loan_purpose:e.loan_purpose,amortization_type:e.amortization_type,fixed_term:e.fixed_term,arm_term:e.arm_term,high_balance:e.high_balance,streamline:e.streamline,lpmi:e.lpmi,limited_income:e.limited_income,interest_only:e.interest_only,down_payment:e.down_payment,ft_home_buyer:e.ft_home_buyer,ncsc:e.ncsc,level_fico:e.level_fico,units:e.units,occupancy:e.occupancy,lenders:e.lenders,selected_branch:e.selected_branch,selected_relationship:e.selected_relationship,lock_period:e.lock_period,state:e.state,self_employed:e.self_employed,income_doc:e.income_doc,bankruptcy:e.bankruptcy,foreclosure:e.foreclosure,deep_in_lieu:e.deep_in_lieu,short_sale:e.short_sale,mortgage_lates:e.mortgage_lates}).then((function(s){var i=function(t){var r=c[t],s=r;s.new_rates=[],s.show_detail=!1,s.adjustments=[],s.rate_adjustments=[],s.ineligible_reason=[],s.current_lock=e.lock_period,s.current_rate=null,s.show=!0;var i=0,p=0,d=!1,u=!1,m=!1,_=!1,h=!1,y=!1,f=!1,x=!1,j=!1,v=!1,g=!1,b=!1,N=!1;if(r.adj_port_amount.forEach((function(t,a){var n=t.ltv0_50,s=" LTV <50";o>50&&(n=t.ltv50_55,s=" LTV 50-55"),o>55&&(n=t.ltv55_60,s=" LTV 55-60"),o>60&&(n=t.ltv60_65,s=" LTV 60-65"),o>65&&(n=t.ltv65_70,s=" LTV 65-70"),o>70&&(n=t.ltv70_75,s=" LTV 70-75"),o>75&&(n=t.ltv75_80,s=" LTV 75-80"),o>80&&(n=t.ltv80_85,s=" LTV 80-85"),o>85&&(n=t.ltv85_90,s=" LTV 85-90"),o>90&&(n=t.ltv90_95,s=" LTV 90-95"),o>95&&(n=t.ltv95_97,s=" LTV 95-97"),o>97&&(n=t.ltv97_more,s=" LTV 97+"),n=parseFloat(-1*n).toFixed(3);var l={type:"",value:0};switch(t.adj_type.trim()){case"12mo Bank Stmt":if("Bank Stmts: 12 Mo. Personal"!=e.income_doc&&"Bank Stmts: 12 Mo. Bussiness"!=e.income_doc)return;l.type=t.adj_type;break;case"24mo Bank Stmt":if("Bank Stmts: 24 Mo. Personal"!=e.income_doc&&"Bank Stmts: 24 Mo. Bussiness"!=e.income_doc)return;l.type=t.adj_type;break;case"2-Unit":if("2unit"!=e.units)return;l.type=t.adj_type,_=!0;break;case"3-Unit":if("3unit"!=e.units)return;l.type=t.adj_type,h=!0;break;case"4-Unit":if("4unit"!=e.units)return;l.type=t.adj_type,y=!0;break;case"Cash-Out":if("lp_cashout"!=e.loan_purpose)return;l.type=t.adj_type,N=!0;break;case"Condo-NonWarrantable":case"Condo-Warrantable":case"D-PUD":case"Modular":case"Rowhouse":case"SFR":case"Townhouse":return;case"DSCR Not Applicable":if("DSCR / No Ratio DSCR"!=e.income_doc)return;l.type=t.adj_type;break;case"Full Amortization":if("Full Doc"!=e.income_doc&&"Full Doc 12(Limited)"!=e.income_doc)return;l.type=t.adj_type;break;case"Interest-Only":if("yes"!=e.interest_only)return;l.type=t.adj_type;break;case"Loan Amount":if(!((t.adj_value==e.state||""==t.adj_value)&&parseFloat(e.loan_amount)>=parseFloat(t.amount_from)&&parseFloat(e.loan_amount)<=parseFloat(t.amount_to)))return;l.type="".concat(t.adj_type," ").concat(t.amount_from," - ").concat(t.amount_to);break;case"Owner Occupied":if("primary"!=e.occupancy)return;l.type=t.adj_type;break;case"PUD":if("pud"!=e.legal_structure)return;l.type=t.adj_type;break;case"Purchase":if("lp_purchase"!=e.loan_purpose)return;l.type=t.adj_type;break;case"Rate-Term":if("lp_rt"!=e.loan_purpose)return;l.type=t.adj_type;break;case"Rural Property":if("yes"!=e.rural_property)return;l.type=t.adj_type;break;case"Second Home":if("second"!=e.occupancy)return;l.type=t.adj_type,d=!0;break;case"standard":l.type="Standard "+t.fico_from+"-"+t.fico_to;break;case"STATE":if(e.state!=t.adj_value)return;l.type=t.adj_type;break;case"FICO":l.type=t.adj_type+" "+t.fico_from+"-"+t.fico_to;break;case"Doctor":if("yes"!=e.doctor)return;l.type=t.adj_type,v=!0;break;case"One-Close Const 9-mo Term":case"One-Close Const 12-mo Term":if("yes"!=e.construction)return;l.type=t.adj_type,g=!0;break;case"Renovation":if("yes"!=e.Renovation)return;l.type=t.adj_type,b=!0}""!=l.type&&(l.value=n,l.type+=s,0!=l.value&&(r.adjustments.push(l),i+=parseFloat(n)))})),(parseFloat(e.fixed_term)>180||2==e.category_type)&&r.price_adjustments.forEach((function(t,a){var n={type:"FICO "+t.fico_from+"-"+t.fico_to,value:0},s=t.ltv0_60,l=" LTV <60";o>60&&(s=t.ltv60_70,l=" LTV 60-70"),o>70&&(s=t.ltv70_75,l=" LTV 70-75"),o>75&&(s=t.ltv75_80,l=" LTV 75-80"),o>80&&(s=t.ltv80_85,l=" LTV 80-85"),o>85&&(s=t.ltv85_90,l=" LTV 85-90"),o>90&&(s=t.ltv90_95,l=" LTV 90-95"),o>95&&(s=t.ltv95_97,l=" LTV 95-97"),o>97&&(s=t.ltv97_more,l=" LTV 97+"),s=parseFloat(-1*s).toFixed(3),n.value=s,n.type+=l,"no"==t.rt&&"lp_rt"==e.loan_purpose||"no"==t.cashout&&"lp_cashout"==e.loan_purpose||"no"==t.purchase&&"lp_purchase"==e.loan_purpose||(r.adjustments.push(n),i+=parseFloat(s))})),"lp_cashout"==e.loan_purpose&&(r.co_adjustments.forEach((function(e,t){var a={type:"FICO "+e.fico_from+"-"+e.fico_to,value:0},n=e.ltv0_60,s=" Cashout LTV <60";o>60&&(n=e.ltv60_70,s+=" Cashout LTV 60-70"),o>70&&(n=e.ltv70_75,s=" Cashout LTV 70-75"),o>75&&(n=e.ltv75_80,s=" Cashout LTV 75-80"),n=parseFloat(-1*n).toFixed(3),a.value=n,a.type+=s,0!=a.value&&(r.adjustments.push(a),N=!0),i+=parseFloat(n)})),!N&&3!=e.product_type&&5!=e.product_type))return"continue";r.amount_adjustments.forEach((function(e,t){var a={type:"",value:0},n=e.value,s=" Amount >= "+e.amount_from+" <= "+e.amount_to;n=parseFloat(-1*n).toFixed(3),a.value=n,a.type+=s,0!=a.value&&r.adjustments.push(a),i+=parseFloat(n)})),"yes"==e.sub_financing&&r.sub_adjustments.forEach((function(t,a){var n={type:"",value:0},s=0;e.level_fico<720?(s=t.less_720,n.type+="Sub Financing FICO < 720"):(s=t.from_720,n.type+="Sub Financing FICO >= 720"),s=parseFloat(-1*s).toFixed(3),n.value=s,0!=n.value&&r.adjustments.push(n),i+=parseFloat(s)}));var F=!1;if(r.ms_adjustments.forEach((function(t,a){var n={type:t.adj_type,baseType:t.adj_type,value:0,adj_value:t.adj_value};if("STATE"==n.type){if(t.adj_value!=e.state)return;n.type+=" "+t.adj_value}if("STATE > 15"==n.type){if(t.adj_value!=e.state||parseInt(e.fixed_term)<=180)return;n.type+=" "+t.adj_value}if("STATE < 15"==n.type){if(t.adj_value!=e.state||parseInt(e.fixed_term)>180)return;n.type+=" "+t.adj_value}if("Primary Residence"!=n.type||"primary"==e.occupancy){if("2nd Home"==n.type){if("second"!=e.occupancy)return;d=!0}if("Escrow Waiver"==n.type&&(f=!0),"Self Employed"!=n.type||"yes"==e.self_employed){if("NON-OWNER"==n.type){if("investment"!=e.occupancy)return;u=!0}if(("Purchase"!=n.type||"lp_purchase"==e.loan_purpose)&&("Doctor"!=n.type||(v=!0,"yes"==e.doctor))&&("One-Close Const 9-mo Term"!=n.type||(g=!0,"yes"==e.construction))&&("One-Close Const 12-mo Term"!=n.type||(g=!0,"yes"==e.construction))&&("Renovation"!=n.type||(b=!0,"yes"==e.Renovation))){if("Purchase"==n.type&&""!=n.adj_value){var s=n.adj_value.split("-");if(s.length>1&&(e.level_fico<parseFloat(s[0])||e.level_fico>parseFloat(s[1])))return}if("Rate & Term"!=n.type||"lp_rt"==e.loan_purpose){if("Cashout"==n.type){if("lp_cashout"!=e.loan_purpose)return;F=!0}if("HB Purchase"==n.type){if("yes"!=e.high_balance||"lp_purchase"!=e.loan_purpose)return;x=!0}if(("HB Rate & Term"!=n.type||"yes"==e.high_balance&&"lp_rt"==e.loan_purpose)&&("HB Cashout"!=n.type||"yes"==e.high_balance&&"lp_cashout"==e.loan_purpose)&&("ARM"!=n.type||"arm"==e.amortization_type)&&("ARM Streamline"!=n.type||"arm"==e.amortization_type&&"yes"==e.streamline)&&("ARM Purchase"!=n.type||"arm"==e.amortization_type&&"lp_purchase"==e.loan_purpose)&&("ARM Rate & Term"!=n.type||"arm"==e.amortization_type&&"lp_rt"==e.loan_purpose)&&("ARM Cashout"!=n.type||"arm"==e.amortization_type&&"lp_cashout"==e.loan_purpose)&&("NOO ARM"!=n.type||"arm"==e.amortization_type&&"investment"==e.occupancy)&&("HB"!=n.type||"yes"==e.high_balance)&&("HB ARM"!=n.type||"yes"==e.high_balance&&"arm"==e.amortization_type)&&("HB Cashout ARM"!=n.type||"yes"==e.high_balance&&"arm"==e.amortization_type&&"lp_cashout"==e.loan_purpose)&&("HB ARM Streamline"!=n.type||"yes"==e.high_balance&&"arm"==e.amortization_type&&"yes"==e.streamline)){if("HB 3-4 Units"==n.type){if("yes"!=e.high_balance||"3unit"!=e.units&&"4unit"!=e.units)return;h=!0,y=!0}if("3-4 Units"==n.type){if("3unit"!=e.units&&"4unit"!=e.units)return;h=!0,y=!0}if("2-4 Units"==n.type){if("2unit"!=e.units&&"3unit"!=e.units&&"4unit"!=e.units)return;_=!0,h=!0,y=!0}if("2 Units"==n.type){if("2unit"!=e.units)return;_=!0}if((">4 Units"!=n.type||"2unit"==e.units)&&("Refinance Charge"!=n.type||"lp_purchase"!=e.loan_purpose)&&("Condo-Hotel"!=n.type||"condo"==e.legal_structure)&&("Attached Condo Term > 15Y"!=n.type||"condo"==e.legal_structure)&&("Primary Residence <= 15YR"!=n.type||"primary"==e.occupancy)&&("Primary Residence <= 15YR"!=n.type||"single"==e.legal_structure)&&("Subordinate Financing"!=n.type||"yes"==e.sub_financing)){if("Manufactured"==n.type){if("yes"!=e.manufactured)return;m=!0}if(("Streamline"!=n.type||"yes"==e.streamline)&&(n.type,!("0 FICO"==n.type&&e.level_fico>=620)&&("HP/HR LI"!=n.type||"yes"==e.limited_income)&&("Interest Only"!=n.type||"yes"==e.interest_only)&&"Fixed Rate"!=n.type&&("Fixed Rate"!=n.type||"fixed"==e.amortization_type)&&("DPA"!=n.type||"yes"==e.down_payment)&&("Foreign National"!=n.type||"yes"==e.foreign_national)&&("ITIN"!=n.type||(j=!0,"yes"==e.itin))&&"Lock Period"!=n.type&&"Non-Warrantable"!=n.type&&("Escrow Waiver"!=n.type||"yes"==e.waive_ecrows)&&("No Escrow Waiver"!=n.type||"yes"!=e.waive_ecrows))){if("DTI"==n.type){var l=t.adj_value.split("-");if(!(l.length>1))return;n.type+=" "+t.adj_value;var c=parseFloat(l[0]),p=parseFloat(l[1]);if(e.dti_ratio<c||e.dti_ratio>p)return}if("Manual Underwriting"!=n.type&&"IRRRL"!=n.type&&"LP 20YR"!=n.type&&"LP Findings"!=n.type){var N=t.ltv0_60,T=" LTV <60";o>60&&(N=t.ltv60_70,T=" LTV 60-70"),o>70&&(N=t.ltv70_75,T=" LTV 70-75"),o>75&&(N=t.ltv75_80,T=" LTV 75-80"),o>80&&(N=t.ltv80_85,T=" LTV 80-85"),o>85&&(N=t.ltv85_90,T=" LTV 85-90"),o>90&&(N=t.ltv90_95,T=" LTV 90-95"),o>95&&(N=t.ltv95_97,T=" LTV 95-97"),o>97&&(N=t.ltv97_more,T=" LTV 97+"),N=parseFloat(-1*N).toFixed(3),n.value=N,n.type+=T,r.adjustments.push(n),x&&(r.adjustments=r.adjustments.filter((function(e){return"Purchase"!=e.baseType}))),i+=parseFloat(N)}}}}}}}}})),r.total_adjustments=i.toFixed(3),r.adjustments_rate.forEach((function(e,t){var a={type:"FICO "+e.fico_from+"-"+e.fico_to,value:0},n=e.ltv0_50,s=" LTV <50";o>50&&(n=e.ltv50_55,s=" LTV 50-55"),o>55&&(n=e.ltv55_60,s=" LTV 55-60"),o>60&&(n=e.ltv60_65,s=" LTV 60-65"),o>65&&(n=e.ltv65_70,s=" LTV 65-70"),o>70&&(n=e.ltv70_75,s=" LTV 70-75"),o>75&&(n=e.ltv75_80,s=" LTV 75-80"),o>80&&(n=e.ltv80_85,s=" LTV 80-85"),o>85&&(n=e.ltv85_more,s=" LTV 85+"),a.value=n,a.type+=s,r.rate_adjustments.push(a),p+=parseFloat(n)})),r.adjustments_rate_amounts.forEach((function(e,t){var a={type:"AMOUNT "+e.amount_from+"-"+e.amount_to,value:e.value};r.rate_adjustments.push(a),p+=parseFloat(a.value)})),r.adjustments_rate_misc.forEach((function(t,a){var n=!1;if("ITIN"==t.type&&(j=!0,"yes"==e.itin&&(n=!0)),"Streamline"==t.type&&"yes"==e.streamline&&(n=!0),n){var s={type:t.type,value:0},l=t.ltv0_50,i=" LTV <50";o>50&&(l=t.ltv50_55,i=" LTV 50-55"),o>55&&(l=t.ltv55_60,i=" LTV 55-60"),o>60&&(l=ad=["ltv60_65"],i=" LTV 60-65"),o>65&&(l=t.ltv65_70,i=" LTV 65-70"),o>70&&(l=t.ltv70_75,i=" LTV 70-75"),o>75&&(l=t.ltv75_80,i=" LTV 75-80"),o>80&&(l=t.ltv80_85,i=" LTV 80-85"),o>85&&(l=t.ltv85_more,i=" LTV 85+"),s.value=l,s.type+=i,r.rate_adjustments.push(s),p+=parseFloat(l)}})),r.compensation=0,r.total_payment=0,r.closing_cost=0,r.final_number=0,r.apr=0,r.borrower_points=0,r.origination_charge=0,r.fee=0,r.fee_points=0,r.origination_total=0,!r.margins)return{v:void 0};if("yes"!=r.margins.active)return{v:void 0};"Broker"==r.margins.relationship?(r.compensation=parseFloat(r.margins.broker_com),r.fee=parseFloat(r.margins.lender_fee)+parseFloat(r.margins.processing_fee)):(r.compensation=parseFloat(r.margins.broker_com),r.fee=parseFloat(r.margins.admin_fee)),.01*r.compensation*parseFloat(e.loan_amount)>parseFloat(r.margins.maximun)&&(r.compensation=parseFloat(r.margins.maximun)/parseFloat(e.loan_amount)*100),.01*r.margins.origination*parseFloat(e.loan_amount)>parseFloat(r.margins.maximun)&&(r.margins.origination=parseFloat(r.margins.maximun)/parseFloat(e.loan_amount)*100),"yes"==e.origination_charge&&"yes"!=e.fees_in&&(r.origination_charge=.01*parseFloat(r.margins.origination)*parseFloat(e.loan_amount),r.compensation=0),"yes"==e.fees_in&&(r.fee_points=r.fee/parseFloat(e.loan_amount)*100,r.fee=0);var T=parseFloat(e.fixed_term),k=e.loan_amount;r.base_rates.forEach((function(e,t){var n=parseFloat(e.rate),o=(n+=p)/100/12,l=k/((Math.pow(1+o,T)-1)/(o*Math.pow(1+o,T))),c={};c.rate=n,c.pi=l,a.forEach((function(t,a){var n=parseFloat(e[t]),s=parseFloat(e[t])+parseFloat(i)-parseFloat(r.compensation)-parseFloat(r.fee_points),o=.01*(s.toFixed(3)-100)*k;c[t]={price:s,fee:o,base_price:n}})),s.new_rates.push(c)})),s.current_rate=s.new_rates[0],s.new_rates.forEach((function(e,t){e.rate>=3&&(s.current_rate=e),e.lock30.price>=100&&e.rate<l&&(l=e.rate)})),r.adjustments.forEach((function(e,t){(e.value>50||e.value<-50)&&s.ineligible_reason.push(e.type)})),r.price_adjustments.length<1&&"lp_purchase"==e.loan_purpose&&(parseFloat(e.fixed_term)>180||2==e.category_type)&&s.ineligible_reason.push("Level Fico"),"yes"==e.sub_financing&&r.sub_adjustments.length<1&&s.ineligible_reason.push("Subordinate Financing"),"lp_cashout"!=e.loan_purpose||N||F||s.ineligible_reason.push("Cashout"),"yes"!=e.itin||j||s.ineligible_reason.push("ITIN"),"second"!=e.occupancy||d?"investment"!=e.occupancy||u?"yes"!=e.manufactured||m?"2unit"!=e.units||_?"3unit"!=e.units||h?"4unit"!=e.units||y?"yes"!=e.waive_ecrows||f?"yes"!=e.doctor||v?"yes"!=e.construction||g?"yes"!=e.Renovation||b||s.ineligible_reason.push("Renovation"):s.ineligible_reason.push("Construction"):s.ineligible_reason.push("Doctor"):s.ineligible_reason.push("Escrow Waiver"):s.ineligible_reason.push("4 Units"):s.ineligible_reason.push("3 Units"):s.ineligible_reason.push("2 Units"):s.ineligible_reason.push("Manufactured"):s.ineligible_reason.push("NON-OWNER"):s.ineligible_reason.push("2nd Home"),s.ineligible_reason.length>0?n.ineligible_products.push(s):n.eligible_products.push(s)},c=s.data;n.eligible_products=[],n.ineligible_products=[],console.log("products from module",c);for(var p=0;p<c.length;p++){var d=i(p);if("object"===r(d))return d.v}n.best_rate=l,t(n)}))},i=function(e,t,a,n,r){for(var s=100,l=0,i=0,c=0,p=0,d=0,u=0,m="",_=0;_<e.length;_++)for(var h=0;h<e[_].new_rates.length;h++)e[_].new_rates[h].rate<s&&e[_].new_rates[h].lock30.price>=100&&(s=e[_].new_rates[h].rate,u=e[_].new_rates[h].pi,m=e[_].product_type,l=Math.round(-1*e[_].new_rates[h].lock30.fee+e[_].fee+e[_].origination_charge+1e3+1500+300+1200),i=Math.round(-1*e[_].new_rates[h].lock30.fee+e[_].fee+e[_].origination_charge));d=o(parseFloat(a),parseFloat(u),parseFloat(r-l)),c=.002*parseInt(n)/12,p=.0125*parseInt(n)/12;var y={name:t,product_type:m,rate:"".concat(parseFloat(s).toFixed(3),"%"),apr:"".concat(d.toFixed(3),"%"),closing_cost:"$".concat(parseFloat(l).toLocaleString("en-US",{style:"decimal"})),mo_payment:"$".concat(parseFloat(u.toFixed(0)).toLocaleString("en-US",{style:"decimal"})),loan_amount:"$".concat(parseFloat(r).toLocaleString("en-US",{style:"decimal"})),cs:[{name:"Appraisal Fee",price:"$650.00"},{name:"Credit Report",price:"$125.00"},{name:"Doc Prep APR",price:"$225.00"},{name:"Title",price:"$1135.00"},{name:"Recording Fee",price:"$330.00"},{name:"Homeowner",price:"$780.00"},{name:"Origination",price:"$".concat(parseFloat(i).toLocaleString("en-US",{style:"decimal"}),".00")},{name:"Total",price:"$".concat((i+650+125+225+1135+330+780).toFixed(2))}],mp:[{name:"Principal & Interest",price:"$".concat(u.toFixed(2))},{name:"Hazard Insurance",price:"$".concat(c.toFixed(2))},{name:"Real Estate Taxes",price:"$".concat(p.toFixed(2))},{name:"Total",price:"$".concat((u+c+p).toFixed(2))}]};return 100==s?null:y};e.exports={findProducts:l,getAPR:o,createAlert:function(e){var t=new XMLHttpRequest;t.open("POST","https://1smtg.com/db/get_rates.php"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.default.post("https://1smtg.com/db/get_rates.php",{action:"create_alert",product_type:e.product_type,loan_amount:e.loan_amount,ltv:e.ltv,cltv:e.cltv,loan_purpose:e.loan_purpose,amortization_type:e.amortization_type,fixed_term:e.fixed_term,arm_term:e.arm_term,high_balance:e.high_balance,down_payment:e.down_payment,level_fico:e.level_fico,units:e.units,occupancy:e.occupancy,branch_id:e.branch_id,relationship:e.relationship,rate:e.rate,pi:e.pi,user_id:e.user_id,contact_id:e.contact_id}).then((function(e){console.log(e)}))},getProductRank:function(e,t){var a=[],n=e.loan_amount/(.01*e.ltv);l(e,(function(r){if(0!=r.eligible_products.length){var s=i(r.eligible_products.filter((function(e){return 1==e.product_type||2==e.product_type||12==e.product_type})),"CONVENTIONAL ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount),o=i(r.eligible_products.filter((function(e){return 3==e.product_type})),"FHA ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount),l=i(r.eligible_products.filter((function(e){return 5==e.product_type})),"VA ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount),c=i(r.eligible_products.filter((function(e){return 4==e.product_type})),"USDA ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount),p=i(r.eligible_products.filter((function(e){return 7==e.product_type})),"NON QM ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount),d=i(r.eligible_products.filter((function(e){return 9==e.product_type})),"JUMBO ".concat(parseInt(e.fixed_term)/12," ").concat(e.amortization_type).toUpperCase(),e.fixed_term,n,e.loan_amount);s&&a.push(s),o&&a.push(o),l&&a.push(l),c&&a.push(c),p&&a.push(p),d&&a.push(d),t(a)}}))},getBetterProduct:i}},3136:function(e,t,a){"use strict";var n=a(5893),r=a(7294),s=a(1664),o=a.n(s),l=a(1163);t.Z=function(e){var t=e.title,a=e.fullPath,s=e.image,i=(0,l.useRouter)();return(0,n.jsx)("header",{className:"pages-header bg-img valign parallaxie",style:{backgroundImage:"url(".concat(s||"/assets/img/loans/disclosure.jpg",")")},"data-overlay-dark":"5",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-12",children:(0,n.jsxs)("div",{className:"cont text-center",children:[(0,n.jsx)("h2",{children:t}),(0,n.jsx)("div",{className:"path",children:a.map((function(e,t){return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(o(),{href:e.url,children:(0,n.jsx)("a",{className:i.pathname==e.url?"active":"",children:e.name})}),t!=a.length-1?(0,n.jsx)("span",{children:"/"}):""]},e.id)}))})]})})})})})}},843:function(e,t,a){"use strict";var n=a(5893),r=a(7294),s=a(678),o=a(1690),l=a(9008),i=a.n(l),c=a(2806);t.Z=function(e){var t=e.children,a=e.footerClass,l=r.useRef(null),p=r.useRef(null);return r.useEffect((function(){var e=l.current,t=p.current;window.pageYOffset>300?e.classList.add("nav-scroll"):e.classList.remove("nav-scroll"),window.addEventListener("scroll",(function(){window.pageYOffset>300?(e.classList.add("nav-scroll"),t.setAttribute("src",c.Q1)):(e.classList.remove("nav-scroll"),t.setAttribute("src",c.E8))}))}),[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("link",{rel:"stylesheet",href:"/assets/css/style-light.css"})}),(0,n.jsx)(s.Z,{navbarRef:l,logoRef:p}),t,(0,n.jsx)(o.Z,{classText:a})]})}},4835:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var n=a(5893),r=a(7294),s=a(843),o=a(3136),l=a(4727),i=a(4251),c=a(2875),p=a(3038),d=a(2044),u=a(6869),m=a(3680);function _(e){return(0,n.jsxs)(u.Z,(0,c.Z)((0,i.Z)({},e),{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(u.Z.Header,{children:(0,n.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:"Loan Estimated"})}),(0,n.jsx)(u.Z.Body,{children:e.product?(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{children:"Estimated Closing Services"}),(0,n.jsx)("table",{className:"table table-striped",children:(0,n.jsx)("tbody",{children:e.product.cs.map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{margin:"0px",padding:"5px"},children:e.name}),(0,n.jsx)("td",{style:{margin:"0px",padding:"5px"},children:e.price})]},t)}))})}),(0,n.jsx)("h6",{children:"Estimated Monthly Payment"}),(0,n.jsx)("table",{className:"table table-striped",children:(0,n.jsx)("tbody",{children:e.product.mp.map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{margin:"3px",padding:"5px"},children:e.name}),(0,n.jsx)("td",{style:{margin:"3px",padding:"5px"},children:e.price})]},t)}))})})]}):(0,n.jsx)("p",{children:"No product data available"})}),(0,n.jsx)(u.Z.Footer,{children:(0,n.jsx)(m.Z,{onClick:e.onHide,children:"Close"})})]}))}function h(e){var t=(0,r.useState)(""),a=t[0],s=t[1],o=(0,r.useState)(""),d=o[0],_=o[1],h=(0,r.useState)(""),y=h[0],f=h[1],x=(0,r.useState)(""),j=x[0],v=x[1],g=(0,r.useState)(""),b=g[0],N=g[1],F=function(){var t=(0,l.Z)((function(){var t,n,r;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:t={name:a,phone:d,email:y,productName:e.product.name},o.label=1;case 1:return o.trys.push([1,6,,7]),[4,fetch("/api/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 2:return(n=o.sent()).ok?[4,n.json()]:[3,4];case 3:return o.sent().success?(v("Quote sent successfully, You will receive a call shortly"),s(""),f(""),_(""),N("")):(N("Error sending, please try again."),v("")),[3,5];case 4:N("Please note that all fields are required!"),v(""),o.label=5;case 5:return[3,7];case 6:return r=o.sent(),console.error(r),N("Error sending email."),v(""),[3,7];case 7:return[2]}}))}));return function(){return t.apply(this,arguments)}}();return(0,n.jsxs)(u.Z,(0,c.Z)((0,i.Z)({},e),{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,n.jsx)(u.Z.Header,{children:(0,n.jsx)(u.Z.Title,{id:"contained-modal-title-vcenter",children:(0,n.jsx)("h5",{children:"Apply Now"})})}),(0,n.jsx)(u.Z.Body,{children:e.product?(0,n.jsxs)("div",{children:[(0,n.jsxs)("h6",{children:["Apply for ",e.product.name]}),(0,n.jsx)("hr",{}),(0,n.jsx)("form",{children:(0,n.jsxs)("div",{className:"row mt-2",children:[(0,n.jsxs)("div",{className:"form-group col-sm-6",children:[(0,n.jsx)("label",{htmlFor:"applicantName",children:"Full Name"}),(0,n.jsx)("input",{type:"text",className:"form-control",required:!0,id:"applicantName",value:a,onChange:function(e){return s(e.target.value)}})]}),(0,n.jsxs)("div",{className:"form-group col-sm-6",children:[(0,n.jsx)("label",{htmlFor:"applicantPhone",children:"Phone #"}),(0,n.jsx)("input",{type:"tel",className:"form-control",id:"applicantPhone",value:d,onChange:function(e){return _(e.target.value)},required:!0})]}),(0,n.jsxs)("div",{className:"form-group col-sm-6",children:[(0,n.jsx)("label",{htmlFor:"applicantEmail",children:"Email"}),(0,n.jsx)("input",{type:"email",className:"form-control",id:"applicantEmail",value:y,onChange:function(e){return f(e.target.value)},required:!0})]})]})}),b&&(0,n.jsx)("p",{style:{color:"red"},children:b}),j&&(0,n.jsx)("p",{style:{color:"green"},children:j})]}):(0,n.jsx)("p",{children:"No product data available"})}),(0,n.jsxs)(u.Z.Footer,{children:[(0,n.jsx)(m.Z,{onClick:F,children:"Apply"}),(0,n.jsx)(m.Z,{onClick:function(){e.onHide(),v(""),N("")},children:"Close"})]})]}))}var y=function(){var e=(0,r.useState)(""),t=e[0],a=e[1],s=(0,r.useState)(""),o=s[0],l=s[1],i=(0,r.useState)(""),c=i[0],p=i[1],u=(0,r.useState)(""),y=u[0],f=u[1],x=(0,r.useState)("780+"),j=x[0],v=x[1],g=(0,r.useState)("360"),b=g[0],N=g[1],F=(0,r.useState)([]),T=F[0],k=F[1],L=(0,r.useState)(!1),C=L[0],w=L[1],R=(0,r.useState)(null),S=R[0],V=R[1],P=(0,r.useState)(!1),E=P[0],A=P[1],I=(0,r.useState)(null),O=I[0],M=I[1],U=(0,r.useState)(!1),Z=U[0],z=U[1],H=function(e){var t=e.target,n=t.name,r=t.value,s=r;switch("purchasePrice"!==n&&"loan_amount"!==n&&"downPayment"!==n||(s=(s=r.replace(/,/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g,",")),"downPayment"===n&&(s=s.replace("%",""),isNaN(s)||(s+="%")),n){case"zipCode":a(s);break;case"purchasePrice":p(s);break;case"loan_amount":l(s);break;case"downPayment":f(s)}};return(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("form",{onSubmit:function(e){e.preventDefault(),w(!0);var t=parseInt(o.replace(/,/g,"")),a=parseInt(c.replace(/,/g,"")),n=(parseInt(y.replace(/,/g,""))/a*100).toFixed(2),r={category_type:1,product_type:0,loan_amount:t,ltv:parseInt(t/a*100),cltv:parseInt(t/a*100),loan_purpose:"lp_purchease",amortization_type:"fixed",fixed_term:b,arm_term:180,high_balance:"no",streamline:"no",lpmi:"no",limited_income:"no",interest_only:"no",down_payment:n,ft_home_buyer:"no",ncsc:"no",level_fico:j,units:"1unit",occupancy:"primary",lenders:[],selected_branch:27,selected_relationship:"Broker",lock_period:"lock30",state:"CA",self_employed:"no"};(0,d.getProductRank)(r,(function(e){k(e),w(!1)}))},children:(0,n.jsxs)("table",{className:"table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Property Value"}),(0,n.jsx)("th",{scope:"col",children:"Loan Amount"}),(0,n.jsx)("th",{scope:"col",children:"Credit Score"}),(0,n.jsx)("th",{scope:"col",children:"Loan Term"}),(0,n.jsx)("th",{scope:"col",children:"Zip code"}),(0,n.jsx)("th",{scope:"col",children:"Search"})]})}),(0,n.jsx)("tbody",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("div",{className:"input-group-prepend",children:(0,n.jsx)("span",{className:"input-group-text",children:"$"})}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"purchasePrice",value:c,onChange:H,required:!0})]})}),(0,n.jsx)("td",{children:(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("div",{className:"input-group-prepend",children:(0,n.jsx)("span",{className:"input-group-text",children:"$"})}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"loan_amount",value:o,onChange:H})]})}),(0,n.jsx)("td",{children:(0,n.jsxs)("select",{className:"form-control",value:j,onChange:function(e){v(e.target.value)},children:[(0,n.jsx)("option",{value:"780+",children:"780+"}),(0,n.jsx)("option",{value:"760-779",children:"760 - 779"}),(0,n.jsx)("option",{value:"740-759",children:"740 - 759"}),(0,n.jsx)("option",{value:"720-739",children:"720 - 739"}),(0,n.jsx)("option",{value:"700-719",children:"700 - 719"}),(0,n.jsx)("option",{value:"680-699",children:"680 - 699"}),(0,n.jsx)("option",{value:"660-679",children:"660 - 679"}),(0,n.jsx)("option",{value:"640-659",children:"640 - 659"}),(0,n.jsx)("option",{value:"620-639",children:"620 - 639"}),(0,n.jsx)("option",{value:"580-619",children:"580 - 619"})]})}),(0,n.jsx)("td",{children:(0,n.jsxs)("select",{className:"form-control",value:b,onChange:function(e){N(e.target.value)},children:[(0,n.jsx)("option",{value:"360",children:"30 yr fixed"}),(0,n.jsx)("option",{value:"240",children:"20 yr fixed"}),(0,n.jsx)("option",{value:"180",children:"15 yr fixed"}),(0,n.jsx)("option",{value:"120",children:"10 yr fixed"}),(0,n.jsx)("option",{value:"36",children:"3 yr ARM"}),(0,n.jsx)("option",{value:"60",children:"5 yr ARM"}),(0,n.jsx)("option",{value:"84",children:"7 yr ARM"}),(0,n.jsx)("option",{value:"120",children:"10 yr ARM"})]})}),(0,n.jsx)("td",{children:(0,n.jsx)("input",{style:{width:"120px"},type:"text",className:"form-control",name:"zipCode",value:t,onChange:H})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Get Rates"})})]})})]})}),C?(0,n.jsx)("table",{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]}),(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]}),(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]}),(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]}),(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]}),(0,n.jsxs)("tr",{className:"loadtr",children:[(0,n.jsx)("td",{className:"loadtr td-1",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-2",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-3",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-4",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-5",children:(0,n.jsx)("span",{})}),(0,n.jsx)("td",{className:"loadtr td-6",children:(0,n.jsx)("span",{})})]})]})}):T.length>0?(0,n.jsxs)("table",{className:"table mt-4 product-table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",children:"Product"}),(0,n.jsx)("th",{scope:"col",children:"Rate"}),(0,n.jsx)("th",{scope:"col",children:"APR"}),(0,n.jsx)("th",{scope:"col",children:"Closing Cost"}),(0,n.jsx)("th",{scope:"col",children:"Loan Amount"}),(0,n.jsx)("th",{scope:"col",children:"Monthly Payment"}),(0,n.jsx)("th",{scope:"col",children:"Details"})]})}),(0,n.jsx)("tbody",{children:T.map((function(e,t){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.name}),(0,n.jsx)("td",{children:e.rate}),(0,n.jsx)("td",{children:e.apr}),(0,n.jsx)("td",{children:e.closing_cost}),(0,n.jsx)("td",{children:e.loan_amount}),(0,n.jsx)("td",{children:e.mo_payment}),(0,n.jsxs)("td",{children:[(0,n.jsx)(m.Z,{className:"btn-sm mr-1",variant:"primary",onClick:function(){V(e),A(!0)},children:"View Details"}),(0,n.jsx)(m.Z,{className:"btn-sm ml-1",variant:"primary",onClick:function(){M(e),z(!0)},children:"Apply Now"})]})]},t)}))})]}):(0,n.jsx)("p",{children:"Please Enter your Quote..."})]}),(0,n.jsx)(_,{product:S,show:E,onHide:function(){return A(!1)}}),(0,n.jsx)(h,{product:O,show:Z,onHide:function(){return z(!1)}})]})},f=function(){return r.useEffect((function(){document.querySelector("body").classList.add("index3")}),[]),(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(o.Z,{title:"Quote",fullPath:[{id:1,name:"home",url:"/"},{id:2,name:"Quote",url:"/quote"}]}),(0,n.jsx)(y,{})]})}}},function(e){e.O(0,[1664,7697,8065,7218,3771,9774,2888,179],(function(){return t=7079,e(e.s=t);var t}));var t=e.O();_N_E=t}]);